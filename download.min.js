/**
* download file
* @date   2016-06-10
* @author ganzw@guahao.com
* @site   https://github.com/baixuexiyang/download.git
*/
!function(name,fun){"undefined"!=typeof module&&module.exports?module.exports=fun():"function"==typeof define&&define.amd?define(fun):this[name]=fun()}("download",function(){"use strict";function download(src){var fileName=src.lastIndexOf("/")>-1?src.slice(src.lastIndexOf("/")+1):src,contentOrPath=src,isIE=/Trident|MSIE/.test(navigator.userAgent);if(isIE){var isImg="data:image"===contentOrPath.slice(0,10),ifr=document.createElement("iframe");ifr.style.display="none",ifr.src=contentOrPath,document.body.appendChild(ifr),isImg&&ifr.contentWindow.document.write("<img src='"+contentOrPath+"' />"),ifr.contentWindow.document.execCommand("SaveAs",!1,fileName),document.body.removeChild(ifr)}else{var aLink=document.createElement("a"),evt=document.createEvent("MouseEvents"),isData="data:"===contentOrPath.slice(0,5),isPath=contentOrPath.lastIndexOf(".")>-1;evt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),aLink.download=fileName,aLink.href=isPath||isData?contentOrPath:URL.createObjectURL(new Blob([contentOrPath])),aLink.dispatchEvent(evt)}}return download});